<!doctype html>
<html lang="en">

<head>
    <!--
            Oi! nice seeing you here. This website is written entirely in html and js (probably just html). 
            This is just a static site, there's nothing to exploit here... yet.
        -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">

    <title>Timetable</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
        crossorigin="anonymous"></script>

    <style>
        .table td {
            text-align: center;
        }

        .table tr {
            text-align: center;
        }

        .sticky-offset {
            top: 56px;
        }

        .gradient-text {
            background-color: #f3ec78;
            /* Create the gradient. */
            background-image: linear-gradient(45deg,
                    #CA4246 16.666%,
                    #E16541 16.666%,
                    #E16541 33.333%,
                    #F18F43 33.333%,
                    #F18F43 50%,
                    #8B9862 50%,
                    #8B9862 66.666%,
                    #476098 66.666%,
                    #476098 83.333%,
                    #A7489B 83.333%);
            /* Set the background size and repeat properties. */
            background-size: 100%;
            background-repeat: repeat;
            background-clip: text;

            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>

<body>
    <nav class="navbar sticky-top navbar-expand-md navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand gradient-text" href="#">Random utilities</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navContent"
                aria-controls="navContent" aria-expanded="false" aria-label="Toggle navigation items">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navContent">
                <div class="navbar-nav">
                    <a class="nav-link active" href="#" aria-current="page">Timetable</a>
                    <!-- <a class="nav-link" href="./links">Links</a> -->
                </div>
            </div>

        </div>
    </nav>


    <div class="container">
        <br>
        <div class="alert alert-warning" role="alert">
            <h4 class="alert-header">Site news</h4>
            <p>
                Since the school is doing some crazy things with the timetable, this
                site would need some redesigning. We are sorry for the inconveniences
                caused.
            </p>
            <hr>
            <p class="mb-0"><i>Last updated: 2022-09-01 09:39:04 GMT+8</i></p>
        </div>
        <div class="card border-primary mb-3">
            <div class="card-header sticky-top sticky-offset bg-light">
                <div class="d-flex align-items-center bd-highlight">
                    <div class="p-2 flex-fill bd-highlight">
                        <h4 class="card-title">Timetable (20<span class="text-warning">22</span>, <span
                                class="text-warning">5 Peace</span>)</h4>
                    </div>
                    <div class="p-2 align-end bd-highlight">
                        <ul class="nav nav-pills mb-3" id="weekselector" role="tablist">
                            <li class="nav-item" role="presentation">
                                <a class="nav-link active" id="week-a-opt" data-bs-toggle="pill" href="#week-a"
                                    role="tab" aria-controls="week-a" aria-selected="true" onclick="weekAClicked()">Week
                                    A</a>
                            </li>
                            <span>&nbsp;</span>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link" id="week-b-opt" data-bs-toggle="pill" href="#week-b" role="tab"
                                    aria-controls="week-b" aria-selected="false" onclick="weekBClicked()">Week B</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="card-body">
                <p>
                    <b class="text-primary">Note: </b> If there's nothing in the <kbd>Current time</kbd> column, you
                    don't have to attend class at that point.
                    Please message me if there's anything off.
                </p>

                <div class="tab-content" id="weeks">
                    <div class="tab-pane fade show active" id="week-a" role="tabpanel" aria-labelledby="week-a">
                        <div class="table-responsive">
                            <table class="table table-hover table-bordered align-middle">
                                <thead>
                                    <tr>
                                        <th scope="col">Period</th>
                                        <th scope="col" class="text-primary">Half-day Timetable</th>
                                        <th scope="col">Day 1 (Mon)</th>
                                        <th scope="col">Day 2 (Tue)</th>
                                        <th scope="col">Day 3 (Wed)</th>
                                        <th scope="col">Day 4 (Thu)</th>
                                        <th scope="col">Day 5 (Fri)</th>
                                        <th scope="col" class="d-none d-xl-block">Normal Time</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!--
                                    <tr>
                                        <td><span class="text-muted">-</span></td>
                                        <td rowspan="2">08:<span class="text-danger">00</span>-08:10</td>
                                        <td colspan="5">Morning assembly/Reading period</td>
                                        <td class="d-none d-xl-block">08:05-08:25</td>
                                    </tr>
                                    <tr>
                                        <td><span class="text-muted">-</span></td>
                                        <td colspan="5">Class Teacher Period (CTP) 1</td>
                                        <td class="d-none d-xl-block">08:25-08:40</td>
                                    </tr>
                                    -->
                                    <tr>
                                        <td><span class="text-muted">-</span></td>
                                        <td>08:<span class="text-warning">00-08:15</span></td>
                                        <td colspan="5">Morning CTP 1</td>
                                        <td><span class="text-muted">-</span></td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>08:10-08:45</td>
                                        <td rowspan="2">English</td>
                                        <td data-bs-toggle="tooltip" title="Citizenship and Social Development"
                                            rowspan="2">CSD</td>
                                        <td rowspan="2">Math</td>
                                        <td rowspan="2" class="table-primary">X1</td>
                                        <td rowspan="2" class="table-warning">X2</td>
                                        <td class="d-none d-xl-block">08:40-09:20</td>
                                    </tr>
                                    <tr>
                                        <td>2</td>
                                        <td>08:45-09:20</td>
                                        <td class="d-none d-xl-block">09:20-10:00</td>
                                    </tr>
                                    <tr>
                                        <td><span class="text-muted">-</span></td>
                                        <td>09:20-09:35</td>
                                        <td colspan="5">Recess 1</td>
                                        <td class="d-none d-xl-block">10:00-10:20</td>
                                    </tr>
                                    <tr>
                                        <td>3</td>
                                        <td>09:35-10:10</td>
                                        <td rowspan="2" class="table-success">X3</td>
                                        <td rowspan="2">Chinese</td>
                                        <td rowspan="2">PE</td>
                                        <td rowspan="2" class="table-warning">X2</td>
                                        <td>Chinese</td>
                                        <td class="d-none d-xl-block">10:20-11:00</td>
                                    </tr>
                                    <tr>
                                        <td>4</td>
                                        <td>10:10-10:45</td>
                                        <td data-bs-toggle="tooltip" title="Citizenship and Social Development">CSD</td>
                                        <td class="d-none d-xl-block">11:00-11:40</td>
                                    </tr>
                                    <tr>
                                        <td><span class="text-muted">-</span></td>
                                        <td>10:45-10:55</td>
                                        <td colspan="5">Recess 2 (Lunch)</td>
                                        <td class="d-none d-xl-block">11:40-12:45</td>
                                    </tr>
                                    <tr>
                                        <td>5</td>
                                        <td>10:55-11:30</td>
                                        <td>PSSE</td>
                                        <td>Math</td>
                                        <td rowspan="2" class="table-success">X3</td>
                                        <td rowspan="2">English</td>
                                        <td rowspan="2">Math</td>
                                        <td class="d-none d-xl-block">12:45-13:25</td>
                                    </tr>
                                    <tr>
                                        <td>6</td>
                                        <td>11:30-12:05</td>
                                        <td>Math</td>
                                        <td class="table-success">X3</td>
                                        <td class="d-none d-xl-block">13:25-14:05</td>
                                    </tr>
                                    <tr>
                                        <td><span class="text-muted">-</span></td>
                                        <td>12:05-12:20</td>
                                        <td colspan="5">Recess 3</td>
                                        <td class="d-none d-xl-block">14:05-14:20</td>
                                    </tr>
                                    <tr>
                                        <td>7</td>
                                        <td>12:20-12:55</td>
                                        <td rowspan="2">Chinese</td>
                                        <td rowspan="2" class="table-warning">X2</td>
                                        <td rowspan="2" class="table-primary">X1</td>
                                        <td>Math</td>
                                        <td rowspan="2">CTP/CCA</td>
                                        <td class="d-none d-xl-block">14:20-15:00</td>
                                    </tr>
                                    <tr>
                                        <td>8</td>
                                        <td>12:55-13:30</td>
                                        <td>Chinese</td>
                                        <td class="d-none d-xl-block">15:00-15:40</td>
                                    </tr>
                                    <tr>
                                        <td><span class="text-muted">-</span></td>
                                        <td><span class="text-muted">-</span></td>
                                        <td colspan="5">CTP 2</td>
                                        <td class="d-none d-xl-block">15:40-15:45</td>
                                    </tr>
                                    <tr>
                                        <td><span class="text-muted">-</span></td>
                                        <td><span class="text-muted">After 15:45</span></td>
                                        <td colspan="5">CCA Period/Supplementary Class/Consolidation Class</td>
                                        <td class="d-none d-xl-block">15:50-17:00</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="week-b" role="tabpanel" aria-labelledby="week-b">
                        <div class="table-responsive">
                            <table class="table table-hover table-bordered align-middle">
                                <thead>
                                    <tr>
                                        <th scope="col">Period</th>
                                        <th scope="col" class="text-primary">Half-day Timetable</th>
                                        <th scope="col">Day 6 (Mon)</th>
                                        <th scope="col">Day 7 (Tue)</th>
                                        <th scope="col">Day 8 (Wed)</th>
                                        <th scope="col">Day 9 (Thu)</th>
                                        <th scope="col">Day 10 (Fri)</th>
                                        <th scope="col" class="d-none d-xl-block">Normal Time</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><span class="text-muted">-</span></td>
                                        <td rowspan="2">08:<span class="text-danger">00</span>-08:10</td>
                                        <td colspan="5">Morning assembly/Reading period</td>
                                        <td class="d-none d-xl-block">08:05-08:25</td>
                                    </tr>
                                    <tr>
                                        <td><span class="text-muted">-</span></td>
                                        <td colspan="5">Class Teacher Period (CTP) 1</td>
                                        <td class="d-none d-xl-block">08:25-08:40</td>
                                    </tr>
                                    <tr>
                                        <td>1</td>
                                        <td>08:10-08:45</td>
                                        <td class="table-primary" rowspan="2">X1</td>
                                        <td class="table-primary">X1</td>
                                        <td rowspan="2">Math</td>
                                        <td rowspan="2">Chinese</td>
                                        <td class="table-warning">X2</td>
                                        <td class="d-none d-xl-block">08:40-09:20</td>
                                    </tr>
                                    <tr>
                                        <td>2</td>
                                        <td>08:45-09:20</td>
                                        <td data-bs-toggle="tooltip" title="Citizenship and Social Development">CSD</td>
                                        <td data-bs-toggle="tooltip" title="Citizenship and Social Development">CSD</td>
                                        <td class="d-none d-xl-block">09:20-10:00</td>
                                    </tr>
                                    <tr>
                                        <td><span class="text-muted">-</span></td>
                                        <td>09:20-09:35</td>
                                        <td colspan="5">Recess 1</td>
                                        <td class="d-none d-xl-block">10:00-10:20</td>
                                    </tr>
                                    <tr>
                                        <td>3</td>
                                        <td>09:35-10:10</td>
                                        <td rowspan="2">Chinese</td>
                                        <td rowspan="2">Chinese</td>
                                        <td rowspan="2">English</td>
                                        <td rowspan="2">English</td>
                                        <td rowspan="2">English</td>
                                        <td class="d-none d-xl-block">10:20-11:00</td>
                                    </tr>
                                    <tr>
                                        <td>4</td>
                                        <td>10:10-10:45</td>
                                        <td class="d-none d-xl-block">11:00-11:40</td>
                                    </tr>
                                    <tr>
                                        <td><span class="text-muted">-</span></td>
                                        <td>10:45-10:55</td>
                                        <td colspan="5">Recess 2 (Lunch)</td>
                                        <td class="d-none d-xl-block">11:40-12:45</td>
                                    </tr>
                                    <tr>
                                        <td>5</td>
                                        <td>10:55-11:30</td>
                                        <td rowspan="2">English</td>
                                        <td rowspan="2" class="table-success">X3</td>
                                        <td class="table-warning">X2</td>
                                        <td class="table-primary">X1</td>
                                        <td rowspan="2" class="table-primary">X1</td>
                                        <td class="d-none d-xl-block">12:45-13:25</td>
                                    </tr>
                                    <tr>
                                        <td>6</td>
                                        <td>11:30-12:05</td>
                                        <td class="table-success">X3</td>
                                        <td>PSSE</td>
                                        <td class="d-none d-xl-block">13:25-14:05</td>
                                    </tr>
                                    <tr>
                                        <td><span class="text-muted">-</span></td>
                                        <td>12:05-12:20</td>
                                        <td colspan="5">Recess 3</td>
                                        <td class="d-none d-xl-block">14:05-14:20</td>
                                    </tr>
                                    <tr>
                                        <td>7</td>
                                        <td>12:20-12:55</td>
                                        <td rowspan="2" class="table-success">X3</td>
                                        <td rowspan="2" class="table-warning">X2</td>
                                        <td rowspan="2">PE</td>
                                        <td rowspan="2">Math</td>
                                        <td rowspan="2" class="table-info" data-bs-toggle="tooltip"
                                            title="I honestly have no idea what this is">MID</td>
                                        <td class="d-none d-xl-block">14:20-15:00</td>
                                    </tr>
                                    <tr>
                                        <td>8</td>
                                        <td>12:55-13:30</td>
                                        <td class="d-none d-xl-block">15:00-15:40</td>
                                    </tr>
                                    <tr>
                                        <td><span class="text-muted">-</span></td>
                                        <td><span class="text-muted">-</span></td>
                                        <td colspan="5">CTP 2</td>
                                        <td class="d-none d-xl-block">15:40-15:45</td>
                                    </tr>
                                    <tr>
                                        <td><span class="text-muted">-</span></td>
                                        <td><span class="text-muted">After 15:45</span></td>
                                        <td colspan="5">CCA Period/Supplementary Class/Consolidation Class</td>
                                        <td class="d-none d-xl-block">15:50-17:00</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <br>
        <p>
            Made by Your friendly neighborhood weird girl <a href="//github.com/soopyc" target="_blank"><img src="./mark-github.svg"
                    alt="GitHub Icon" data-bs-toggle="tooltip" title="GitHub profile"></a>
            <a id="repo-button" href="//github.com/soopyc/timetable" data-bs-toggle="tooltip" title="Source code"><img
                    src="./repo.svg" alt="Repository icon"></a>
        </p>
        <p>
            <b>Privacy:</b> This page uses a single cookie for storing the currently selected tab. No user information
            is tracked otherwise.
        </p>
    </div>
    <script>
        // MODULES!!!! (wrong
        // Copyright (c) 2021-present kcomain 
        // Licensed under AGPL-3.0 or later 

        // Initialize the tooltips
        const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
        let tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
        })

        const weekA = bootstrap.Tab.getOrCreateInstance(document.querySelector("#week-a-opt"));
        const weekB = bootstrap.Tab.getOrCreateInstance(document.querySelector("#week-b-opt"));

        function weekAClicked() {
            document.cookie = 'currentSelected=week-a; samesite=lax; max-age=31536000';
            weekA.show();
        }

        function weekBClicked() {
            document.cookie = 'currentSelected=week-b; samesite=lax; max-age=31536000';
            weekB.show();
        }

        function parseCookies() {
            const thething = {};
            for (const i of document.cookie.split('; ')) {  // space after the semicolon: mdn:/docs/Web/API/Document/cookie
                const anotherthing = i.split('=');
                thething[anotherthing[0]] = anotherthing[1] === '' ? undefined : anotherthing[1];
            }

            return thething;
        }

        // On page load finish haha english good
        const cookies = parseCookies();
        switch (cookies.currentSelected) {
          case 'week-a':
            weekAClicked();
            break;

          case 'week-b':
            weekBClicked();
            break;

          default:
            // reset cookie
            document.cookie = 'currentSelected=; samesite=lax; expires=Thu, 01 Jan 1970 00:00:00 GMT';
            break;
        }

    </script>
</body>

</html>
